<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
<script>
  // 源数据
  let person = {
    name: "张山",
    age: 18
  }

  // 模拟vue2中实现的响应式
  //#region
  // let p = {}
  // Object.defineProperty(p,'name', {
  //   configurable: true, // 控制属性能不能删除
  //   get(){
  //     return person.name
  //   },
  //   set(value){
  //     console.log("修改");
  //     person.name = value
  //   }
  // })
  //#endregion


  // 模拟vue3中实现的响应式
  //#region
  const p = new Proxy(person, {
    // 读取p的属性时调用
    get(target, proName){
      console.log(`读取p的${proName}属性`);
      // return target[proName]
      return Reflect.get(target, proName)
    },
    // 添加、修改p的属性时调用
    set(target, proName, value){
      console.log(`target:${target} proName:${proName} value：${value}`);
      // target[proName] = value
      return Reflect.set(target, proName, value)
    },
    // 删除p的属性时调用
    deleteProperty(target, proName){
      // return delete target[proName]
      return Reflect.deleteProperty(target, proName)
    }
  })
  //#endregion

  Object.defineProperties()



  
</script>
</html>